{"version":3,"sources":["webpack:///c:/Users/cwhou/Documents/wakanda/Extensions/htmlCssEditor/src/modules/editor/Editor.js?c2c9*"],"names":[],"mappings":"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","file":"3.3.build.js","sourcesContent":["class Editor {\t\r\n\t\r\n\tconstructor({lib, id=\"editor\", theme=\"monokai\", mode=\"javascript\", options={}}){\r\n\t\tthis.lib     = lib;\r\n\t\tthis.mode    = this.mode || mode;\r\n\t\tthis.theme   = theme;\r\n\t\tthis.options = options;\t\t\r\n\t\tthis._dirty  = false;\r\n\t\t\r\n\t\tvar _EventEmitter   = require('../../../lib/micro-events.js');\r\n\t\tthis.events = new _EventEmitter();\r\n\t\t\r\n\t\tthis.init(id);\r\n\t}\r\n\t\r\n\tinit(id) {\r\n\t\t\r\n\t\tthis.editor = this.create(id);\r\n\t\t\r\n\t\tthis.setTheme(this.theme);\r\n\t\tthis.setMode(this.mode);\r\n\t\tthis.setOptions(this.options);\r\n\t\tif (IDE.qParams.path){\r\n\t\t\tthis.loadFile();\r\n\t\t} else {\r\n\t\t\tthis.ready();\r\n\t\t}\r\n\t}\r\n\t\r\n\tregisterEvents() {\r\n\t\tvar document = this.document || this.editor.session.getDocument();\r\n\t\t\r\n\t\tdocument.on(\"change\", (...args)=> {\r\n\t\t\tsetTimeout(()=>this.dirty = true , 0);\r\n\t\t\tsetTimeout(()=>this.events.emit(\"editor.onchange\", {name : \"editor.onchange\", params : args}), 0);\r\n\t\t});\r\n\t}\r\n\t\r\n\tloadFile(){\r\n\t\tvar path = IDE.qParams.path\r\n\t\tIDE.fileManager.getFile(path).then((event)=>{\r\n\t\t\tvar content = event.response;\r\n\t\t\t\r\n\t\t\tthis.setContent(content);\r\n\t\t\t/*\r\n\t\t\t * Ace Workaround\r\n\t\t\t * {\r\n\t\t\t */\r\n\t\t\tthis.editor.session.setUndoManager(new (this.lib.UndoManager)());\r\n\t\t\t/*\r\n\t\t\t * }\r\n\t\t\t */\r\n\t\t\t \r\n\t\t\tthis.ready();\t\t\t\r\n\t\t});\r\n\t}\r\n\t\r\n\tready() {\r\n\t\tthis.registerEvents();\r\n\t\tthis.events.emit(\"editor.onready\", {name : \"editor.onready\"});\r\n\t}\r\n\t\r\n\tcreate(id) {\r\n\t\treturn this.lib.edit(id);\r\n\t}\r\n\t\r\n\tsetContent(content) {\r\n\t\tthis.editor.setValue(content, -1);\r\n\t}\r\n\t\r\n\tgetContent() {\r\n\t\treturn this.editor.getValue();\r\n\t}\r\n\t\r\n\tsetReadOnly(value) {\r\n\t\tthis.editor.setReadOnly(value)\r\n\t}\r\n\t\r\n\tsetOptions(options) {\r\n\t\tthis.editor.setOptions(options);\r\n\t}\r\n\t\r\n\tsetTheme(theme) {\r\n\t\tthis.editor.setTheme(`ace/theme/${theme}`);\r\n\t}\r\n\t\r\n\tsetMode(mode) {\r\n\t\tthis.editor.setOption(\"mode\", `ace/mode/${mode}`);\r\n\t}\r\n\t\r\n\tundo() {\r\n\t\tthis.editor.undo();\r\n\t}\r\n\t\r\n\tredo() {\r\n\t\tthis.editor.redo();\r\n\t}\r\n\t\r\n\tset dirty(value){\r\n\t\tif(value && ! this._dirty){\r\n\t\t\tthis._dirty = true;\r\n\t\t\tthis.events.emit(\"editor.ondirty\", {name : \"editor.ondirty\"});\r\n\t\t}else if(!value && this._dirty){\r\n\t\t\tthis._dirty = false;\r\n\t\t\tthis.events.emit(\"editor.onclean\", {name : \"editor.onclean\"});\r\n\t\t}\r\n\t}\r\n\t\r\n\tget dirty(){\r\n\t\treturn this._dirty;\r\n\t}\r\n\t\r\n\tonDirty(callback){\r\n\t\tthis.events.on(\"editor.ondirty\", callback);\r\n\t}\r\n\t\r\n\tonClean(callback){\r\n\t\tthis.events.on(\"editor.onclean\", callback);\r\n\t}\r\n\t\r\n\tonChange(callback){\r\n\t\tthis.events.on(\"editor.onchange\", callback);\r\n\t}\r\n\t\r\n}\r\n\r\nexport default Editor;\n\n\n/** WEBPACK FOOTER **\n ** c:/Users/cwhou/Documents/wakanda/Extensions/htmlCssEditor/src/modules/editor/Editor.js\n **/"],"sourceRoot":""}